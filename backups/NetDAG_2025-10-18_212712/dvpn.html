<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NetDAG — dVPN (Decentralized VPN)</title>
  <meta name="description" content="A decentralized, censorship-resistant VPN powered by the NetDAG network. Private connections, fair pricing, and rewards for node operators." />
  <link rel="icon" href="images/favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- Accessibility: skip link -->
  <a class="skip-link" href="#main-content">Skip to content</a>

  <!-- Header / Navbar -->
  <header class="main-header" role="banner">
    <nav class="navbar" role="navigation" aria-label="Main navigation">
      <div class="nav-left">
        <a href="index.html"><img src="images/ndg-logo.png" alt="NetDAG Logo" class="logo" /></a>
        <a href="index.html" class="nav-brand">NetDAG</a>
      </div>

      <div class="nav-right">
        <!-- Desktop links -->
        <ul class="nav-links">
          <li><a href="bonding-curve.html">Bonding Curve</a></li>
          <li><a href="guardian.html">NetDAG Guardian</a></li>
          <li><a href="provenance.html">Provenance</a></li>
          <li><a href="dvpn.html" aria-current="page">dVPN</a></li>
        </ul>

        <!-- Controls -->
        <button id="theme-toggle" class="icon" type="button" aria-label="Toggle theme">🌙</button>
        <button id="lang-btn" class="icon" type="button" aria-label="Change language">🌐</button>
        <button id="open-menu-btn" class="mobile-menu-icon" type="button" aria-label="Open menu">☰</button>
      </div>
    </nav>
  </header>

  <!-- Desktop sidebar / Mobile drawer -->
  <div id="mobile-menu-container" class="mobile-menu" aria-hidden="true" hidden>
    <div class="mobile-menu-content" role="menu" aria-label="Mobile navigation">
      <button id="close-menu-btn" class="close-btn" aria-label="Close menu" type="button">×</button>
      <ul class="mobile-nav-links"></ul>
    </div>
  </div>

  <!-- Main -->
  <main id="main-content" role="main">
    <!-- Hero -->
    <section class="hero-banner" style="background-image:url('images/ndg9.png'); background-position:center;">
      <div class="hero-overlay">
        <h1 class="hero-title">Your Privacy, Powered by the People</h1>
        <p class="hero-subtitle">A decentralized VPN for secure, censorship-resistant internet access.</p>
      </div>
    </section>

    <!-- Content -->
    <section class="dvpn-section">
      <div class="dvpn-container">
        <h2>What is a Decentralized VPN (dVPN)?</h2>
        <p>
          A dVPN replaces centralized servers with a global, peer-to-peer network of community-run nodes.
          Node operators contribute bandwidth and earn NDG; users route traffic through multi-hop, encrypted paths with
          no single entity to trust, no central logs, and no single point of failure.
        </p>
      </div>
    </section>

    <section class="dvpn-section">
      <div class="dvpn-container">
        <h2>How It Works: Secure Browsing in 3 Steps</h2>
        <div class="dvpn-steps">
          <article class="dstep">
            <h3>1) Launch the App</h3>
            <p>The dVPN fetches a list of available, high-reputation nodes from the NetDAG network.</p>
          </article>
          <article class="dstep">
            <h3>2) One-Click Connect</h3>
            <p>The NetDAG Guardian automatically picks a fast, trustworthy multi-hop route for your session.</p>
          </article>
          <article class="dstep">
            <h3>3) Pay-as-You-Go</h3>
            <p>Pay per minute or GB in NDG. A share goes to node providers; the rest strengthens liquidity and the charity fund.</p>
          </article>
        </div>
      </div>
    </section>

    <section class="dvpn-section">
      <div class="dvpn-container">
        <h2>The NetDAG Advantage: A Smarter, Fairer Network</h2>

        <div class="table-wrap">
          <table class="data-table">
            <thead>
              <tr>
                <th>Need</th>
                <th>NetDAG Solution</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Fast, real-time connections</td>
                <td>DAG confirms sessions instantly without lag.</td>
              </tr>
              <tr>
                <td>Fair, predictable pricing</td>
                <td>Bonding Curve keeps usage costs stable even in volatile markets.</td>
              </tr>
              <tr>
                <td>Smart routing &amp; fraud prevention</td>
                <td>Guardian scores node reliability and avoids slow/malicious nodes.</td>
              </tr>
              <tr>
                <td>True decentralization</td>
                <td>P2P network — no central authority or single point of failure.</td>
              </tr>
              <tr>
                <td>Economic incentive</td>
                <td>Node operators earn NDG, encouraging a robust and reliable network.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p class="note">
          The dVPN showcases NetDAG’s pillars working together: DAG for throughput, the Bonding Curve for stable economics,
          and the Guardian for predictive optimization.
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer">© NetDAG — dVPN</footer>

  <!-- Shared site logic -->
  <script src="script.js"></script>

  <!-- Invisible mount for Google Translate (kept hidden) -->
  <div id="google_translate_element" style="display:none"></div>

  <!-- Lazy Google Translate loader: load only for non-EN or on demand -->
  <script>
    function ndgGetLang(){ try{return localStorage.getItem('ndg_lang')||'en';}catch{return'en';} }
    function ndgSetLang(c){ try{localStorage.setItem('ndg_lang',c);}catch{} }

    function ndgLoadTranslate(cb){
      if (window.google && window.google.translate) { cb && cb(); return; }
      window.googleTranslateElementInit = function(){
        new google.translate.TranslateElement(
          { pageLanguage:'en', autoDisplay:false },
          'google_translate_element'
        );
        cb && cb();
      };
      if (!document.getElementById('ndg-gt-script')) {
        var s = document.createElement('script');
        s.id = 'ndg-gt-script';
        s.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
        s.defer = true;
        document.body.appendChild(s);
      }
    }

    function ndgApplyGoogleLang(lang){
      var map = { en:'en', de:'de', fr:'fr' };
      var target = map[lang] || 'en';
      function setCombo(){
        var sel = document.querySelector('select.goog-te-combo');
        if (!sel) { setTimeout(setCombo, 120); return; }
        if (sel.value !== target) {
          sel.value = target;
          sel.dispatchEvent(new Event('change'));
        }
      }
      setCombo();
    }

    document.addEventListener('DOMContentLoaded', function(){
      var lang = ndgGetLang();
      if (lang !== 'en') {
        if ('requestIdleCallback' in window) {
          requestIdleCallback(function(){ ndgLoadTranslate(function(){ ndgApplyGoogleLang(lang); }); });
        } else {
          setTimeout(function(){ ndgLoadTranslate(function(){ ndgApplyGoogleLang(lang); }); }, 400);
        }
      }
    });

    window.addEventListener('pageshow', function(){
      var lang = ndgGetLang();
      if (lang !== 'en' && !(window.google && window.google.translate)) {
        ndgLoadTranslate(function(){ ndgApplyGoogleLang(lang); });
      } else if (lang !== 'en') {
        ndgApplyGoogleLang(lang);
      }
    });

    // Hook into your language panel clicks (.lang-item[data-code])
    document.addEventListener('click', function(e){
      var item = e.target.closest('.lang-item');
      if (!item) return;
      var code = item.dataset.code || 'en';
      ndgSetLang(code);
      if (code === 'en') {
        if (window.google && window.google.translate) ndgApplyGoogleLang('en');
        return;
      }
      ndgLoadTranslate(function(){ ndgApplyGoogleLang(code); });
    });

    // Cross-tab sync
    window.addEventListener('storage', function(e){
      if (e.key === 'ndg_lang') {
        var code = ndgGetLang();
        if (code === 'en') {
          if (window.google && window.google.translate) ndgApplyGoogleLang('en');
        } else {
          ndgLoadTranslate(function(){ ndgApplyGoogleLang(code); });
        }
      }
    });
  </script>

</body>
</html>
